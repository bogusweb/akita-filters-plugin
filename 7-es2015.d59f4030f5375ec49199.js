(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{oste:function(e,t,i){"use strict";i.r(t);var r=i("ofXK"),c=i("SZEV"),o=i("nGlz"),s=i("fXoL"),l=i("3Pt+"),n=i("XNiG"),b=i("1G5W");function a(e){return"function"==typeof e}const u=(e,t="ngOnDestroy")=>i=>{const r=e[t];if(!1===a(r))throw new Error(`${e.constructor.name} is using untilDestroyed but doesn't implement ${t}`);return e.__takeUntilDestroy||(e.__takeUntilDestroy=new n.a,e[t]=function(){a(r)&&r.apply(this,arguments),e.__takeUntilDestroy.next(!0),e.__takeUntilDestroy.complete()}),i.pipe(Object(b.a)(e.__takeUntilDestroy))};var p=i("m1PQ");function d(e,t){if(1&e){const e=s.Ub();s.Tb(0,"div",41),s.bc("click",(function(){s.qc(e);const i=t.$implicit;return s.fc(2).removeFilter(i.id)})),s.yc(1),s.Tb(2,"i",42),s.yc(3,"close"),s.Sb(),s.Sb()}if(2&e){const e=t.$implicit;s.Cb(1),s.Ac(" ",e.name," ")}}function S(e,t){if(1&e){const e=s.Ub();s.Tb(0,"div"),s.yc(1," Filter : "),s.wc(2,d,4,1,"div",39),s.gc(3,"async"),s.Tb(4,"a",40),s.bc("click",(function(){return s.qc(e),s.fc().removeFilterAll()})),s.yc(5,"remove all"),s.Sb(),s.Sb()}if(2&e){const e=s.fc();s.Cb(2),s.lc("ngForOf",s.hc(3,1,e.filters$))}}let f=(()=>{class e{constructor(e){this.productsService=e,this.filtersForm=new l.f({search:new l.d,sortControl:new l.d("+title"),categoryControl:new l.d,size:new l.d,fastDeliveryControl:new l.d}),this.filterFastDelivery=!1}ngOnInit(){this.setInitialFilters(),this.filtersForm.controls.search.valueChanges.pipe(u(this)).subscribe(e=>{e?this.productsService.setFilter({id:"search",value:e,order:20,name:`" ${e} "`,predicate:t=>Object(p.b)(e,t)}):this.productsService.removeFilter("search")}),this.filtersForm.controls.categoryControl.valueChanges.pipe(u(this)).subscribe(e=>{this.productsService.setFilter({id:"category",value:e,predicate:t=>t.category===e})}),this.filtersForm.controls.sortControl.valueChanges.pipe(u(this)).subscribe(e=>{this.productsService.setOrderBy(e.slice(1),e.slice(0,1))}),this.filtersForm.controls.sortControl.setValue(this.productsService.getSortValue()),this.filterFastDelivery=this.productsService.getFilterValue("fastDelivery"),this.filters$=this.productsService.selectFilters()}setInitialFilters(){this.filtersForm.setValue({search:this.productsService.getFilterValue("search"),sortControl:this.productsService.getSortValue(),categoryControl:this.productsService.getFilterValue("category"),size:this.productsService.getFilterValue("size"),fastDeliveryControl:this.productsService.getFilterValue("fastDelivery")},{emitEvent:!1})}getNormalizedFilters(){console.log(this.productsService.filtersProduct.getNormalizedFilters({withSort:!0,asQueryParams:!0}))}filterSize(e){this.productsService.setFilter({id:"size",name:`${e} size`,value:e,predicate:t=>t.size===e})}changeFastDelivery(){this.filterFastDelivery=!this.filterFastDelivery,this.filterFastDelivery?this.productsService.setFilter({id:"fastDelivery",name:"Only fast Delivery",value:this.filterFastDelivery,order:1,predicate:e=>e.rapidDelivery}):this.removeFilter("fastDelivery")}removeFilter(e){this.productsService.removeFilter(e),this.setInitialFilters()}removeFilterAll(){this.productsService.removeAllFilter(),this.setInitialFilters()}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-filters-form"]],decls:90,vars:4,consts:[[1,"row",3,"formGroup"],[1,"col","m2","s6"],[1,"input-field","col","s12"],["formControlName","categoryControl",1,"browser-default"],["value","","disabled","","selected",""],["value","Interior"],["value","Garden"],["value","Balcony"],["value","Flowers"],["value","Tree"],["value","Roses"],[1,"col","m3","s6"],[1,""],["name","size","formControlName","size","type","radio","value","XS",1,"with-gap",3,"click"],["name","size","formControlName","size","type","radio","value","S",1,"with-gap",3,"click"],["name","size","formControlName","size","type","radio","value","M",1,"with-gap",3,"click"],["name","size","formControlName","size","type","radio","value","L",1,"with-gap",3,"click"],["name","size","formControlName","size","type","radio","value","XL",1,"with-gap",3,"click"],["name","size","formControlName","size","type","radio","value","2XL",1,"with-gap",3,"click"],["name","size","formControlName","size","type","radio","value","3XL",1,"with-gap",3,"click"],[1,"col","m1","s6"],["type","checkbox","formControlName","fastDeliveryControl",3,"change"],[1,"col","m4","s6"],[1,"input-field"],[1,"material-icons","prefix"],["placeholder","Search Product..","formControlName","search"],["formControlName","sortControl",1,"browser-default"],["value","+title"],["value","-title"],["value","+price"],["value","-price"],["value","+size"],["value","-size"],["value","+origin"],["value","-origin"],["value","+family"],["value","-family"],[4,"ngIf"],[3,"click"],["class","chip",3,"click",4,"ngFor","ngForOf"],[1,"waves-effect","waves-teal","btn-flat",3,"click"],[1,"chip",3,"click"],[1,"close","material-icons"]],template:function(e,t){1&e&&(s.Tb(0,"form",0),s.Tb(1,"div",1),s.Tb(2,"label"),s.yc(3,"Filter Category"),s.Sb(),s.Tb(4,"div",2),s.Tb(5,"select",3),s.Tb(6,"option",4),s.yc(7,"Choose your catgory"),s.Sb(),s.Tb(8,"option",5),s.yc(9,"Interior"),s.Sb(),s.Tb(10,"option",6),s.yc(11,"Garden"),s.Sb(),s.Tb(12,"option",7),s.yc(13,"Balcony"),s.Sb(),s.Tb(14,"option",8),s.yc(15,"Flowers"),s.Sb(),s.Tb(16,"option",9),s.yc(17,"Tree"),s.Sb(),s.Tb(18,"option",10),s.yc(19,"Roses"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(20,"div",11),s.Tb(21,"label"),s.yc(22,"Size"),s.Sb(),s.Tb(23,"div",12),s.Tb(24,"label"),s.Tb(25,"input",13),s.bc("click",(function(){return t.filterSize("XS")})),s.Sb(),s.Tb(26,"span"),s.yc(27,"XS"),s.Sb(),s.Sb(),s.Tb(28,"label"),s.Tb(29,"input",14),s.bc("click",(function(){return t.filterSize("S")})),s.Sb(),s.Tb(30,"span"),s.yc(31,"S"),s.Sb(),s.Sb(),s.Tb(32,"label"),s.Tb(33,"input",15),s.bc("click",(function(){return t.filterSize("M")})),s.Sb(),s.Tb(34,"span"),s.yc(35,"M"),s.Sb(),s.Sb(),s.Tb(36,"label"),s.Tb(37,"input",16),s.bc("click",(function(){return t.filterSize("L")})),s.Sb(),s.Tb(38,"span"),s.yc(39,"L"),s.Sb(),s.Sb(),s.Tb(40,"label"),s.Tb(41,"input",17),s.bc("click",(function(){return t.filterSize("XL")})),s.Sb(),s.Tb(42,"span"),s.yc(43,"XL"),s.Sb(),s.Sb(),s.Tb(44,"label"),s.Tb(45,"input",18),s.bc("click",(function(){return t.filterSize("2XL")})),s.Sb(),s.Tb(46,"span"),s.yc(47,"2XL"),s.Sb(),s.Sb(),s.Tb(48,"label"),s.Tb(49,"input",19),s.bc("click",(function(){return t.filterSize("3XL")})),s.Sb(),s.Tb(50,"span"),s.yc(51,"3XL"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(52,"div",20),s.Tb(53,"label"),s.Tb(54,"input",21),s.bc("change",(function(){return t.changeFastDelivery()})),s.Sb(),s.Tb(55,"span"),s.yc(56,"Only Fast Delivery"),s.Sb(),s.Sb(),s.Sb(),s.Tb(57,"div",22),s.Tb(58,"div",23),s.Tb(59,"i",24),s.yc(60,"search"),s.Sb(),s.Ob(61,"input",25),s.Sb(),s.Sb(),s.Tb(62,"div",1),s.Tb(63,"label"),s.yc(64,"Sort by"),s.Sb(),s.Tb(65,"select",26),s.Tb(66,"option",27),s.yc(67,"Name - ASC"),s.Sb(),s.Tb(68,"option",28),s.yc(69,"Name - DESC"),s.Sb(),s.Tb(70,"option",29),s.yc(71,"Price - ASC"),s.Sb(),s.Tb(72,"option",30),s.yc(73,"Price - DESC"),s.Sb(),s.Tb(74,"option",31),s.yc(75,"Size - ASC"),s.Sb(),s.Tb(76,"option",32),s.yc(77,"Size - DESC"),s.Sb(),s.Tb(78,"option",33),s.yc(79,"Origin - ASC"),s.Sb(),s.Tb(80,"option",34),s.yc(81,"Origin - DESC"),s.Sb(),s.Tb(82,"option",35),s.yc(83,"Family - ASC"),s.Sb(),s.Tb(84,"option",36),s.yc(85,"Family - DESC"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.wc(86,S,6,3,"div",37),s.gc(87,"async"),s.Tb(88,"button",38),s.bc("click",(function(){return t.getNormalizedFilters()})),s.yc(89,"getNormalizedFilters (check the console)"),s.Sb()),2&e&&(s.lc("formGroup",t.filtersForm),s.Cb(86),s.lc("ngIf",s.hc(87,2,t.filters$).length))},directives:[l.u,l.m,l.g,l.s,l.l,l.e,l.p,l.t,l.c,l.q,l.a,r.k,r.j],pipes:[r.b],encapsulation:2}),e})();function y(e,t){if(1&e){const e=s.Ub();s.Tb(0,"tr"),s.Tb(1,"td",1),s.bc("click",(function(){s.qc(e);const i=t.$implicit;return s.fc().add.emit(i)})),s.yc(2),s.Sb(),s.Tb(3,"td"),s.yc(4),s.Sb(),s.Tb(5,"td"),s.yc(6),s.Sb(),s.Tb(7,"td"),s.yc(8),s.Sb(),s.Tb(9,"td"),s.yc(10),s.Sb(),s.Tb(11,"td"),s.yc(12),s.Sb(),s.Tb(13,"td"),s.yc(14),s.Sb(),s.Tb(15,"td"),s.yc(16),s.gc(17,"slice"),s.Sb(),s.Ob(18,"td"),s.Sb()}if(2&e){const e=t.$implicit;s.Cb(2),s.zc(e.title),s.Cb(2),s.zc(e.category),s.Cb(2),s.zc(e.rapidDelivery),s.Cb(2),s.zc(e.price),s.Cb(2),s.zc(e.family),s.Cb(2),s.zc(e.origin),s.Cb(2),s.zc(e.size),s.Cb(2),s.zc(s.ic(17,8,e.description,0,100))}}let v=(()=>{class e{constructor(){this.add=new s.o,this.subtract=new s.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-product-filter"]],inputs:{products:"products"},outputs:{add:"add",subtract:"subtract"},decls:23,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(s.Tb(0,"table"),s.Tb(1,"thead"),s.Tb(2,"tr"),s.Tb(3,"th"),s.yc(4,"Name"),s.Sb(),s.Tb(5,"th"),s.yc(6,"Category"),s.Sb(),s.Tb(7,"th"),s.yc(8,"Rapid Delivery"),s.Sb(),s.Tb(9,"th"),s.yc(10,"Price"),s.Sb(),s.Tb(11,"th"),s.yc(12,"Family"),s.Sb(),s.Tb(13,"th"),s.yc(14,"Origin"),s.Sb(),s.Tb(15,"th"),s.yc(16,"Size"),s.Sb(),s.Tb(17,"th"),s.yc(18,"description"),s.Sb(),s.Tb(19,"th"),s.yc(20,"actions"),s.Sb(),s.Sb(),s.Sb(),s.Tb(21,"tbody"),s.wc(22,y,19,12,"tr",0),s.Sb(),s.Sb()),2&e&&(s.Cb(22),s.lc("ngForOf",t.products))},directives:[r.j],pipes:[r.q],styles:["[_nghost-%COMP%] {\n    display: block;\n    width: 100%;\n  }"],changeDetection:0}),e})();function h(e,t){if(1&e){const e=s.Ub();s.Rb(0),s.Ob(1,"app-filters-form"),s.Tb(2,"div",5),s.Tb(3,"app-product-filter",6),s.bc("add",(function(t){return s.qc(e),s.fc().addProductToCart(t)}))("subtract",(function(t){return s.qc(e),s.fc().subtract(t)})),s.gc(4,"async"),s.Sb(),s.Sb(),s.Qb()}if(2&e){const e=s.fc();s.Cb(3),s.lc("products",s.hc(4,1,e.products$))}}function m(e,t){1&e&&(s.Tb(0,"div",7),s.Ob(1,"div",8),s.Sb())}let T=(()=>{class e{constructor(e,t,i){this.productsService=e,this.cartService=t,this.productsQuery=i}ngOnInit(){this.productsService.get().subscribe(),this.loading$=this.productsQuery.selectLoading(),this.products$=this.productsService.selectAll()}addProductToCart({id:e}){this.cartService.addProductToCart(e)}subtract({id:e}){this.cartService.subtract(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.b),s.Nb(o.b),s.Nb(c.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-products-list"]],decls:9,vars:4,consts:[[1,"padding"],[1,"grey-text","flex","align-center"],[1,"large","material-icons"],[4,"ngIf","ngIfElse"],["loadingTpl",""],[1,"row"],[3,"products","add","subtract"],[1,"progress"],[1,"indeterminate"]],template:function(e,t){if(1&e&&(s.Tb(0,"section",0),s.Tb(1,"h1",1),s.Tb(2,"i",2),s.yc(3,"view_list"),s.Sb(),s.yc(4," Products list with filters "),s.Sb(),s.wc(5,h,5,3,"ng-container",3),s.gc(6,"async"),s.wc(7,m,2,0,"ng-template",null,4,s.xc),s.Sb()),2&e){const e=s.oc(8);s.Cb(5),s.lc("ngIf",!s.hc(6,2,t.loading$))("ngIfElse",e)}},directives:[r.k,f,v],pipes:[r.b],encapsulation:2}),e})();var g=i("tyNb");i.d(t,"ProductsFiltersModule",(function(){return F}));const C=[{path:"",component:T}];let F=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[r.c,g.d.forChild(C),l.r]]}),e})()}}]);